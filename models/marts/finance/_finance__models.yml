models:
  - name: hotel_financial_performance
    description: >
      This model calculates key hotel booking metrics, including total reservations, average room price, pre- and post-commission revenue, and the hotel's share of total revenue. 
      It combines data from multiple sources to generate these financial insights for each hotel.
    columns:
      - name: hotel_name
        description: "The name of the hotel."
        tests:
          - not_null
          - unique
      - name: total_reservations
        description: "The total number of unique reservations made at the hotel."
        tests:
          - not_null
          - positive_values
      - name: avg_price_per_room
        description: "The average price per room, calculated by dividing the total price per night by the number of rooms."
        tests:
          - not_null
          - positive_values
      - name: pre_commission_revenue
        description: "Total revenue before commissions, calculated as the sum of price per night multiplied by stay duration."
        tests:
          - not_null
      - name: hotel_net_revenue
        description: "The net revenue for the hotel, calculated as the pre-commission revenue minus the agent commission."
        tests:
          - not_null
      - name: hotel_profit_share
        description: "The percentage of total revenue that is generated by this hotel, calculated as the hotel net revenue divided by the total revenue."
        tests:
          - not_null


  - name: seasonal_revenue_analysis
    description: >
      This model calculates key monthly metrics for hotel bookings, including the number of unique customers, total revenue, average revenue per customer, and the percentage change in revenue compared to the previous month. 
      It aggregates data from booking, date, and agent tables to provide financial insights by month and year.
    columns:
      - name: year_number
        description: "The year of the booking data."
        tests:
          - not_null
          
      - name: month_name
        description: "The name of the month (e.g., January, February)."
        tests:
          - not_null
          
      - name: unique_customers
        description: "The number of unique customers who made bookings in the given month."
        tests:
          - not_null
          
      - name: total_revenue_euros
        description: "The total revenue in euros generated by bookings in the given month."
        tests:
          - not_null
          
      - name: avg_revenue_per_customer
        description: "The average revenue per customer, calculated by dividing the total revenue by the number of unique customers."
        tests:
          - not_null
          
      - name: revenue_change_percentage
        description: "The percentage change in revenue compared to the previous month."
        tests:
          - not_null
          

